<breadcrumb/>

<mat-card>
    <mat-card-header class="m-b-16">
    <mat-card-title>{{ isEditMode ? 'Update' : 'Add' }} Contact</mat-card-title>
    </mat-card-header>
  
    <mat-card-content>
      <form [formGroup]="reactiveForm" class="form-field-full">
        <div class="row">
          <div class="col-sm-6 col-xl-4">
            <mat-form-field>
              <mat-label>First Name</mat-label>
              <input matInput placeholder="Enter first name" formControlName="firstName" required />
              @if (reactiveForm.get('firstName')?.invalid) {
                <mat-error>Please enter first name</mat-error>
              }
            </mat-form-field>
          </div>
          
          <div class="col-sm-6 col-xl-4">
            <mat-form-field>
              <mat-label>Last Name</mat-label>
              <input matInput placeholder="Enter last name" formControlName="lastName" required />
              @if (reactiveForm.get('lastName')?.invalid) {
                <mat-error>Please enter last name</mat-error>
              }
            </mat-form-field>
          </div>
  
          <div class="col-sm-6 col-xl-4">
            <mat-form-field>
              <mat-label>Email</mat-label>
              <input matInput placeholder="Enter email" formControlName="email" required />
              @if (reactiveForm.get('email')?.invalid) {
                <mat-error>{{ getErrorMessage(reactiveForm) }}</mat-error>
              }
            </mat-form-field>
          </div>
  
          <div class="col-sm-6 col-xl-4">
            <mat-form-field>
              <mat-label>Gender</mat-label>
              <mat-select formControlName="gender" required>
                <mat-option>-- None --</mat-option>
                <mat-option value="1">Male</mat-option>
                <mat-option value="2">Female</mat-option>
                <mat-option value="3">Other</mat-option>
              </mat-select>
              @if (reactiveForm.get('gender')?.invalid) {
                <mat-error>Please select gender</mat-error>
              }
            </mat-form-field>
          </div>

          <div class="col-sm-6 col-xl-4">
            <mat-form-field>
              <mat-label>Address</mat-label>
              <input matInput placeholder="Enter address" formControlName="address" required />
              @if (reactiveForm.get('address')?.invalid) {
                <mat-error>Please enter address</mat-error>
              }
            </mat-form-field>
          </div>
  
          <div class="col-sm-6 col-xl-4">
            <mat-form-field>
              <mat-label>City</mat-label>
              <input matInput placeholder="Enter city name" formControlName="city" required />
              @if (reactiveForm.get('city')?.invalid) {
                <mat-error>Please enter city</mat-error>
              }
            </mat-form-field>
          </div>
  
          <div class="col-sm-6 col-xl-4">
            <mat-form-field>
              <mat-label>Zip Code</mat-label>
              <input matInput placeholder="Enter zip code" formControlName="zipCode" required />
              @if (reactiveForm.get('address')?.invalid) {
                <mat-error>Please enter zip code</mat-error>
              }
            </mat-form-field>
          </div>
  
          <div class="col-sm-6 col-xl-4">
            <mat-form-field>
              <mat-label>Company</mat-label>
              <input matInput placeholder="Enter company name" formControlName="company" required />
              @if (reactiveForm.get('company')?.invalid) {
                <mat-error>Please enter company</mat-error>
              }
            </mat-form-field>
          </div>
  
          <div class="col-sm-6 col-xl-4">
            <mat-form-field>
              <mat-label>Phone</mat-label>
              <input
                matInput
                placeholder="Enter mobile number"
                type="number"
                formControlName="phone"
                required
              />
              <mat-icon matSuffix>smartphone</mat-icon>
              @if (reactiveForm.get('phone')?.invalid) {
                <mat-error>Please enter mobile number</mat-error>
              }
            </mat-form-field>
          </div>
          
        <div class="col-sm-6 col-xl-4">
            <mat-form-field>
                <mat-label>Tags</mat-label>
                <mat-chip-grid #chipGrid>
                    @for (tag of tags; track tag) {
                    <mat-chip-row [editable]="true" 
                        (removed)="remove(tag)" 
                        (edited)="edit(tag, $event)">
                            {{ tag }}
                        <mat-icon matChipRemove>cancel</mat-icon>
                    </mat-chip-row>
                    }
                </mat-chip-grid>
                <input matInput 
                    placeholder="Add Tag..." 
                    aria-label="Add Tag" 
                    [matChipInputFor]="chipGrid"
                    [matChipInputAddOnBlur]="addOnBlur" 
                    (matChipInputTokenEnd)="add($event)" />
            </mat-form-field>
        </div>
  
          <div class="col-sm-6 col-xl-4">
            <mat-form-field>
              <mat-label>Website</mat-label>
              <input matInput placeholder="Enter website link" formControlName="website" required />
              @if (reactiveForm.get('website')?.invalid) {
                <mat-error>Please enter website</mat-error>
              }
            </mat-form-field>
          </div>
        </div>
  
        <div class="d-flex justify-content-end button-container">
            <button class="col-sm-1 col-xl-4 mr-1" mat-flat-button [disabled]="!!reactiveForm.invalid" [loading]="isSubmitting"
                (click)="onSubmit()">
                {{ isEditMode ? 'Update' : 'Add' }}
            </button>
            <button class="col-sm-1 col-xl-4" mat-flat-button  (click)="cancel()">
                Cancel
             </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
  